{
  "name": "/nerv/worker_cluster",
  "version": 1,
  "environment": "ssh",
  "inputs": [
    {
      "name": "host_ip_list",
      "type": "string[]"
    },
    {
      "name":"host_credential",
      "type":"string"
    }
  ],
  "nodes": [
    {
      "name": "agent",
      "type": "/nerv/cluster/Agent",
      "parameters": [
        {
          "name": "pkg_root",
          "value": "http://10.211.55.2:3332/pkg"
        },
        {
          "name": "pkg_url",
          "value": "/agent.tgz"
        },
        {
          "name": "root",
          "value": "./"
        },
        {
          "name": "config_root",
          "value": "http://10.211.55.2:3332/config"
        },
        {
          "name": "config_url",
          "value": "/nerv/agent"
        }
      ],
      "dependencies": [
        {
          "type": "contained",
          "target": "host"
        }
      ]
    },
    {
      "name": "log",
      "type": "/nerv/cluster/Log",
      "parameters": [
        {
          "name": "pkg_root",
          "value": "http://10.211.55.2:3332/pkg"
        },
        {
          "name": "pkg_url",
          "value": "/log.tgz"
        },
        {
          "name": "root",
          "value": "./"
        },
        {
          "name": "config_root",
          "value": "http://10.211.55.2:3332/config"
        },
        {
          "name": "config_url",
          "value": "/nerv/log"
        }
      ],
      "dependencies": [
        {
          "type": "contained",
          "target": "host"
        }
      ]
    },
    {
      "name": "host",
      "type": "/nerv/cluster/Host",
      "parameters": [
        {
          "name": "address",
          "value": "${host_ip_list}"
        },
        {
          "name": "credential",
          "value": "${host_credential}"
        }
      ]
    }
  ]
}
